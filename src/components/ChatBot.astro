---
import { getChatbotTranslations } from '../i18n/chatbot';

const locale = Astro.currentLocale || 'es';
const chatbot = getChatbotTranslations(locale);

// Get localized path to /cholao
function getLocalizedPath(path: string): string {
  if (locale === 'es') {
    return path === '/' ? '/' : path;
  }
  return path === '/' ? `/${locale}/` : `/${locale}${path}`;
}

const cholaoPath = getLocalizedPath('/cholao');
---

<div class="chatbot-container fixed bottom-[85px] right-5 z-[1100] transition-opacity duration-300 ease-linear">
  <!-- Floating Button - Now redirects to /cholao -->
  <a 
    href={cholaoPath}
    class="chatbot-button w-[50px] h-[50px] rounded-full shadow-lg cursor-pointer transition-all duration-300 ease-linear border-0 p-0 relative hover:scale-105 overflow-hidden z-[1100] block"
    aria-label={chatbot.title}
    title={chatbot.title}
  >
    <img src="/images/cholao-chat.png" alt="Cholao" class="w-full h-full object-cover" />
  </a>
</div>

<style>
  /* Mobile responsive adjustments */
  @media (max-width: 768px) {
    .chatbot-container {
      bottom: 80px;
      right: 20px;
    }

    .chatbot-button {
      width: 50px;
      height: 50px;
    }
  }
</style>
